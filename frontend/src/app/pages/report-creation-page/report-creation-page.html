<div class="container mt-4">
  <h2>Create Athlete Report</h2>

  <form [formGroup]="formGroup" (submit)="onSubmit()" class="row g-3 mt-3">
    <input type="hidden" formControlName="doctorId">
    <div class="col-md-4 position-relative">
      <label class="form-label">Patient EMBG</label>
      <input type="text" class="form-control" formControlName="embg"
             (blur)="hideDropdownAfterDelay()"
      >
      <!--      fixme style-->
      <div class="patient-type-search d-flex justify-content-start gap-3">
        <div>
          <input type="radio"
                 name="patientType"
                 value="new"
                 (change)="patientType = true">
          <label>New patient</label>
        </div>
        <div>
          <input type="radio"
                 name="patientType"
                 value="assigned"
                 (change)="patientType = false"
                 checked>
          <label>Assigned patient</label>
        </div>
      </div>
      @if (showEmbgDropdown && embgResults.length > 0) {
        <ul class="list-group position-absolute w-100"
            style="z-index: 1000; max-height: 200px; overflow-y: auto;">
          @for (patient of embgResults; track patient.patientId) {
            <li class="list-group-item list-group-item-action"
                (mousedown)="selectEmbg(patient.embg)">
              {{ patient.embg }} - {{ patient.name }}
            </li>
          }
        </ul>
      }
    </div>

    <div class="col-md-4">
      <label class="form-label">Status</label>
      <select class="form-select" formControlName="status">
        <option value="">Select status</option>
        <option value="GOOD">GOOD</option>
        <option value="IMPROVED">IMPROVED</option>
        <option value="FOLLOWUP">FOLLOWUP</option>
      </select>
    </div>

    <div class="col-md-4">
      <label class="form-label">VOâ‚‚ Max</label>
      <input type="number" step="0.01" class="form-control" formControlName="vo2Max">
    </div>

    <div class="col-md-4">
      <label class="form-label">Resting Heart Rate</label>
      <input type="number" class="form-control" formControlName="restingHeartRate">
    </div>

    <div class="col-md-4">
      <label class="form-label">Under Pressure Heart Rate</label>
      <input type="number" class="form-control" formControlName="underPressureHeartRate">
    </div>

    <div class="col-md-4">
      <label class="form-label">Body Fat %</label>
      <input type="number" step="0.01" class="form-control" formControlName="bodyFatPercentage">
    </div>

    <div class="col-md-4">
      <label class="form-label">Lean Muscle Mass</label>
      <input type="number" step="0.01" class="form-control" formControlName="leanMuscleMass">
    </div>

    <div class="col-md-4">
      <label class="form-label">Bone Density</label>
      <input type="number" step="0.01" class="form-control" formControlName="boneDensity">
    </div>

    <div class="col-md-4">
      <label class="form-label">Height</label>
      <input type="number" step="0.01" class="form-control" formControlName="height">
    </div>

    <div class="col-md-4">
      <label class="form-label">Weight</label>
      <input type="number" step="0.01" class="form-control" formControlName="weight">
    </div>

    <div class="col-md-4">
      <label class="form-label">One Rep Max Bench</label>
      <input type="number" step="0.01" class="form-control" formControlName="oneRepMaxBench">
    </div>

    <div class="col-md-4">
      <label class="form-label">One Rep Max Squat</label>
      <input type="number" step="0.01" class="form-control" formControlName="oneRepMaxSquat">
    </div>

    <div class="col-md-4">
      <label class="form-label">One Rep Max Deadlift</label>
      <input type="number" step="0.01" class="form-control" formControlName="oneRepMaxDeadlift">
    </div>

    <div class="col-md-4">
      <label class="form-label">Jump Height</label>
      <input type="number" step="0.01" class="form-control" formControlName="jumpHeight">
    </div>

    <div class="col-md-4">
      <label class="form-label">Average Run per KM</label>
      <input type="number" step="0.01" class="form-control" formControlName="averageRunPerKilometer">
    </div>

    <div class="col-md-4">
      <label class="form-label">Shoulder Flexibility</label>
      <input type="number" class="form-control" formControlName="shoulderFlexibility">
    </div>

    <div class="col-md-4">
      <label class="form-label">Hip Flexibility</label>
      <input type="number" class="form-control" formControlName="hipFlexibility">
    </div>

    <div class="col-md-4">
      <label class="form-label">Balance Time</label>
      <input type="number" step="0.01" class="form-control" formControlName="balanceTime">
    </div>

    <div class="col-md-4">
      <label class="form-label">Reaction Time</label>
      <input type="number" step="0.01" class="form-control" formControlName="reactionTime">
    </div>

    <div class="col-md-4">
      <label class="form-label">Core Stability Score</label>
      <input type="number" class="form-control" formControlName="coreStabilityScore">
    </div>

    <div class="col-md-4">
      <label class="form-label">Hemoglobin</label>
      <input type="number" step="0.01" class="form-control" formControlName="hemoglobin">
    </div>

    <div class="col-md-4">
      <label class="form-label">Glucose</label>
      <input type="number" step="0.01" class="form-control" formControlName="glucose">
    </div>

    <div class="col-md-4">
      <label class="form-label">Creatinine</label>
      <input type="number" step="0.01" class="form-control" formControlName="creatinine">
    </div>

    <div class="col-md-4">
      <label class="form-label">Vitamin D</label>
      <input type="number" step="0.01" class="form-control" formControlName="vitaminD">
    </div>

    <div class="col-md-4">
      <label class="form-label">Iron</label>
      <input type="number" step="0.01" class="form-control" formControlName="iron">
    </div>

    <div class="col-md-4">
      <label class="form-label">Testosterone</label>
      <input type="number" step="0.01" class="form-control" formControlName="testosterone">
    </div>

    <div class="col-md-4">
      <label class="form-label">Cortisol</label>
      <input type="number" step="0.01" class="form-control" formControlName="cortisol">
    </div>

    <div class="col-12">
      <button type="submit" class="btn btn-primary" [disabled]="!formGroup.valid">Create Report</button>
    </div>
  </form>
</div>
