<div class="container mt-4">
  <h2>Create Recommendation(s)</h2>

  <form (ngSubmit)="onSubmit()" class="mt-3">
    @for (fg of forms.controls; track fg; let i = $index) {
      <div>
        <recommendation-form [form]="fg" (remove)="removeForm(i)"></recommendation-form>
      </div>
    }

    <div class="mt-3">
      <button class="btn btn-primary" type="submit" [disabled]="submitting || forms.invalid">
        {{ submitting ? 'Saving...' : 'Create All Recommendations' }}
      </button>

      <button class="btn btn-outline-secondary ms-2" type="button" (click)="cancel()">
        Cancel
      </button>
    </div>
  </form>

  <button class="btn btn-success add-btn" type="button" (click)="addForm()">
    + Add recommendation
  </button>
</div>
